<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>06-SandwichClick Trigger Clicked Vanilla JS using ES6</title>

	<!-- Added link to the jQuery Library -->

</head>

<body>

	<h1>Click to Eat Sandwich</h1>
	<h3 id="pbj">Peanut Butter Jelly</h3>
	<h3 id="grilledcheese">Grilled Cheese</h3>
	<h3 id="roastbeef">hello Roast Beef</h3>

	<div id="image-div"></div>

	<script type="text/javascript">

      // JS Class 
      // ====================================================================

      // Here we create a base class
      class Sandwich {
        constructor(id, message, name) {
          this.id = id;
          this.name = name;
          this.counter = 0;
          this.message = message;
        }

        speak() {
          alert(this.message);
        }

        eat() {
          this.counter++;
        }
      }

      // We create 3 sub classes which inherits from the Sandwich class
      class Pbj extends Sandwich {
        constructor(id, message, img, name) {
          super(id, message, name);
          this.img = img;
        }
        speak() {
          super.speak();
        }

        eat() {
          super.eat();
        }
      }

      class GrilledCheese extends Sandwich {
        constructor(id, message, img, name) {
          super(id, message, name);
          this.img = img;
        }
        speak() {
          super.speak();
        }

        eat() {
          super.eat();
        }
      }

      class RoastBeef extends Sandwich {
        constructor(id, message, img, name) {
          super(id, message, name);
          this.img = img;
        }
        speak() {
          super.speak();
        }

        eat() {
          super.eat();
        }
      }

      // We instantiate the 3 Sandwich sub classs with the data we want to pass into the constructor and super functions.
      let pbj = new Pbj('pbj', "Mmm... Peanut Butter Jelly Time.","<img src='https://i1.wp.com/snotapwi.com/wp-content/uploads/2017/03/PBJ-Sandwiches.jpg?resize=590%2C368&ssl=1' />", "Peanut Butter & Jelly");

      let grilledCheese = new GrilledCheese('grilledcheese', "Nom nom nom.Gooey Gooey Grilled Cheese!", "<img src='http://cdn.funcheap.com/wp-content/uploads/2014/04/The-Perfect-Grilled-Cheese-Sandwich-800-158111.jpg' />", "Grilled Cheese");

      let roastBeef = new RoastBeef('roastbeef', "No qualms about animal rights here. I'm all about that roast beef.", "<img src='https://www.cscassets.com/recipes/wide_cknew/wide_25336.jpg' />", "Roast Beef");
     
      // We create an array of our 3 sandwiches
      let sandwiches = [pbj, grilledCheese, roastBeef];

     

      // FUNCTIONS
      // ====================================================================
     // We create a utility function that is responsible for creating the event listeners.

      function doClick() {
        this.forEach(element => {
          let domElem = document.getElementById(element.id);
          domElem.addEventListener("click", e => {
            element.speak();
            element.eat();
            alert(`You've eaten ${element.counter} ${element.name} sandwiches`);
          })
        });
      }

      // Here we call our utility function and use .call to pass in the sandwiches array as our `this`
      doClick.call(sandwiches);
      
  </script>

  </body>

  </html>